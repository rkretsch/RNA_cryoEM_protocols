
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Live Processing &#8212; RNA cryoEM protocols</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myadmonitions.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pre-processing" href="Pre_processing.html" />
    <link rel="prev" title="Data Collection" href="../scope/Data_collection.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/RNA_cryoEM_logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">RNA cryoEM protocols</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    RNA CryoEM Protocols
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Preparing small RNA samples
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../prepare_rna/RNAse_free.html">
   RNase Free Procedures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../prepare_rna/pcr_assembly.html">
   PCR assembly
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../prepare_rna/IVT.html">
   <em>
    in vitro
   </em>
   Transcription (IVT)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../prepare_rna/dPAGE.html">
   dPAGE Purification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../prepare_rna/rna_analysis.html">
   RNA anlysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Grid preperation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../grid_preperation/Folding.html">
   Folding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../grid_preperation/Freezing.html">
   Freezing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../grid_preperation/Clipping.html">
   Clipping
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Screening and data collection
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../scope/Loading.html">
   Loading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../scope/Screening.html">
   Screening
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../scope/Alignment.html">
   Alignmnet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../scope/Data_collection.html">
   Data Collection
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data processing
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Live Processing
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Pre_processing.html">
   Pre-processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="import_movies.html">
     Import Movies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="motion_correction.html">
     Motion Correction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ctf_estimation.html">
     CTF Estimation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="micrograph_curation.html">
     Micrograph Curation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Particle_picking.html">
   Particle selection (2D)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="blob_template_picking.html">
     Blob and Template Picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="deep_picking.html">
     deep picking
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extract_particles.html">
     Extract Boxed Particles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2D_classification.html">
     2D Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="paticle_picking_strategies.html">
     paticle_picking_strategies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="3D_reconstruction.html">
   3D reconstruction
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ab_initio.html">
     Ab Initio 3D reconstruction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3D_classification.html">
     3D Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3D_refine.html">
     3D_refine
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sharpening.html">
     sharpening.md
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3D_reconstruction_strategies.html">
     3D_reconstruction_strategies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Software.html">
   Software
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="acquire_sdf.html">
     acquire_sdf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="workstations_getting_started.html">
     Getting started on Das Lab Workstations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="relion.html">
     relion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cryosparc.html">
     cryosparc
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="transfer_relion_cryosparc.html">
     transfer_relion_cryosparc
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cryoDRGN.html">
     cryoDRGN
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="topaz.html">
     topaz
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cryolo.html">
     cryolo
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/rkretsch/RNA_cryoEM_protocols"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/rkretsch/RNA_cryoEM_protocols/issues/new?title=Issue%20on%20page%20%2Fdata_processing/Live_processing.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/data_processing/Live_processing.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Live Processing</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="live-processing">
<h1>Live Processing<a class="headerlink" href="#live-processing" title="Permalink to this headline">#</a></h1>
<p><strong>Goal</strong>: pre-process, curate, and begin picking particles during live data collection on the microscope.</p>
<p>While collecting data, the microscope is collecting thousands of movies of the selected holes and squares on your grid. You can continuously import these movies while they are still being collected, where it will begin the steps of pre-processing, particle picking, and even 2D classification or other steps. First, these movies must be compiled into a single micrograph, which involves processing the motion of the sample that occurred after it was hit with the electron beam, as well as downweighting the radiation damage done to the samples. Then, the contrast transfer function (CTF) for each micrograph must be calculated, which calculates the resolution and defocus of each micrograph. Finally, micrographs can be automatically or manually curated, to eliminate those with bad ice or resolution. Additionally, the processes of picking particles and 2D classification can be started here while still collecting and importing data.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="8ec25783-73a6-4967-bba5-42a2d9ef165a" name="bb7be99b-9d76-4c75-9630-615f3d20f3b6" type="radio">
</input><label class="sd-tab-label" for="8ec25783-73a6-4967-bba5-42a2d9ef165a">
S2C2 Pipeline</label><div class="sd-tab-content docutils">
<p>TODO</p>
</div>
<input id="14db167d-9698-4baa-9506-a79b5f8b25ac" name="bb7be99b-9d76-4c75-9630-615f3d20f3b6" type="radio">
</input><label class="sd-tab-label" for="14db167d-9698-4baa-9506-a79b5f8b25ac">
Cryosparc Live</label><div class="sd-tab-content docutils">
<ol>
<li><p>Before you can begin processing live, you must start a new project in regular cryosparc. Open your regular cryosparc desktop (localhost:39100, localhost:39200, etc.) and click the icon to the left of the projects tab at the top (shown in Figure 1). This will open a screen which should show all current projects.</p>
<p><img alt="projects" src="../_images/projects.png" />
<strong>Figure 1.  Button from step 1 to begin processing data live in cryosparc, shown circled in green.</strong></p>
</li>
<li><p>Next, click “Add” at the top, shown in Figure 2. This will open a pop-up which will allow you to give a title to the project as well as the directory where it should be stored. Finish by clicking “Create”.</p>
<p><img alt="add_project" src="../_images/add_project.png" />
<strong>Figure 2. “Add” button which allows you to start a new project in cryosparc.</strong></p>
</li>
<li><p>Now you can start your cryosparc live session. Open your cryosparc live desktop (add 6 to your port, e.g. localhost:39106), and click “New” at the top right hand corner to start a new live session (Figure 3). This will open a pop-up window where you can select your new project and enter a title (e.g. “Preprocessing). Now click “Create Session”. This should take you to a new screen where you can configure the session.</p>
<p><img alt="new_session" src="../_images/new_session.png" />
<strong>Figure 3. Starting a new session in cryosparc live.</strong></p>
</li>
<li><p>Next, you will configure your session. You will see three columns, the left labeled “Configuration”, the middle labeled “Parameters”, and the right labeled “1 Exposure Group”. In the left column, you must select a preprocessing lane, reconstruction lane, and auxiliary lane. Click on each of these options and select “Lane default (node)”. The number of preprocessign workers is the number of available GPUs - depending on the speed of collection and how far in the processing pipeling you go, you will need 2-4 GPUs to keep up with live processing.</p></li>
<li><p>Next, move to Parameters. First, check the box at the top to show advanced settings (Figure 4).</p>
<p><img alt="advanced_settings" src="../_images/advanced_settings.png" />
<strong>Figure 4. Show advanced settings in parameters on cryosparc live.</strong></p>
</li>
<li><p>Enter the settings for the microscope/camera parameters. If the scope you are using requires it, choose the options to flip or rotate the gain reference, according to the settings of that microscope. Next, enter the raw pixel size, accelerating voltage, spherical aberration, and total exposure dose. All these settings are decided when data collection is set up on the microscope.</p></li>
<li><p>Leave parameters for Motion Correction and CTF estimation as defaults (unless otherwise required).</p>
<ul class="simple">
<li><p>Note: for cryosparc patch-motion with falcon camera, you will need to exclude final frame (e.g. with 40 frames, put 39 as it counts from 0).</p></li>
</ul>
</li>
<li><p>Now enter desired parameters for the blob picker. This works as a simple picker which finds spheres or other shapes of a specified size. Suggested parameters for this step are shown below in Table 1.</p>
<ul class="simple">
<li><p>Note that the minimum diameter for RNA is a head-on view of a helix, which corresponds to ~20 A. For maximum particle diameter, 250 A is a generous estimate for the side view of a helix, and this can be adjusted as preferred according to the expected size of whatever particle you are processing.</p></li>
<li><p>Elliptical blob is used because this is the closest to the shape of a helix from the side.</p></li>
<li><p>Lowpass filter is 5 A as a good default, but this can be adjusted visually if the contrast is found to be too high/low. A larger lowpass filter will increase the contrast while decreasing resolution.</p></li>
<li><p>The minimum separation distance is calculated based on the minimum particle diameter, so 2.5 is chosen so that particles will be at minimum 50 A apart.</p></li>
</ul>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Parameter</p></th>
<th class="text-align:center head"><p>Suggested</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>Minimum particle diameter (A)</p></td>
<td class="text-align:center"><p>20</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>Maximum particle diameter (A)</p></td>
<td class="text-align:center"><p>250</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>Use circular blob</p></td>
<td class="text-align:center"><p>Yes</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>Use elliptical blob</p></td>
<td class="text-align:center"><p>Yes</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>Use ring blob</p></td>
<td class="text-align:center"><p>No</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>Lowpass filter to apply (A)</p></td>
<td class="text-align:center"><p>5</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>Min separation dist (diameters)</p></td>
<td class="text-align:center"><p>2.5</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><strong>Table 1. Suggested parameters for blob picker in cryosparc live.</strong></p></td>
<td class="text-align:center"><p></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Now enter the parameters for the Template Picker. The template picker chooses particles resembling a given set of templates, which are generated through a round of 2D classification. This first round of 2D classification can be done using the particles extracted by the blob picker. Suggested parameters are shown below in Table 2.</p>
<ul class="simple">
<li><p>Note that the suggested particle diameter is the most flexible parameter here. Enter some value according to your expectation for the particle you are processing. Ensure that the min separation distance corresponds to at least ~50 A separation between particles.</p></li>
</ul>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Parameter</p></th>
<th class="text-align:center head"><p>Suggested</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>Particle Diameter (A)</p></td>
<td class="text-align:center"><p>200</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>Lowpass filter to apply (A)</p></td>
<td class="text-align:center"><p>5</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>Angular sampling (degrees)</p></td>
<td class="text-align:center"><p>5</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>Min. separation dist (diameters)</p></td>
<td class="text-align:center"><p>0.25</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><strong>Table 2. Suggested parameters for template picker in cryosparc live.</strong></p></td>
<td class="text-align:center"><p></p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Next, enter parameters for particle extraction. For now, leave the score threshold min, power threshold min, and power threshold max blank (you will choose these visually later on). The images of the particles must be extracted from the larger micrograph in order to be used for 2D classification. You must specify the size of the box taken from the larger micrograph - it should be large enough to contain the entire particle, but not too large so that the particle can be seen clearly.</p>
<ul class="simple">
<li><p>Calculate this by using the estimated maximum diameter of the particle and the raw pixel size of the data. Overestimate box size by about 1.5-2x the max diameter of the particle. Round your calculated box size to the closest of the following values:</p>
<ul>
<li><p>16, 20, 24, 28, 32, 36, 40, 48, 56, 60, 64, 72, 80, 84, 96, 100, 108, 112, 120, 128, 140, 144, 160, 168, 180, 192, 196, 200, 216, 224, 240, 252, 256, 280, 288, 300, 320, 324, 336, 360, 384, 392, 400, 420, 432, 448, 480, 500, 504, 512, 540, 560, 576, 588, 600, 640, 648, 672, 700, 720, 756, 768, 784, 800, 840, 864, 896, 900, 960, 972, 980, 1000, 1008, 1024, 1080, 1120, 1152, 1176, 1200, 1260, 1280, 1296, 1344, 1372, 1400, 1440, 1500, 1512, 1536, 1568, 1600, 1620, 1680, 1728, 1764, 1792, 1800, 1920, 1944, 1960, 2000</p></li>
</ul>
</li>
</ul>
</li>
<li><p>If your box size is larger than 200 pixels, you should fourier crop it. Choose a value for fourier cropping at or below 200 pixels. Make sure that you are choosing a value from the above list here as well.</p></li>
<li><p>Click “Apply to All” at the bottom of the center column.</p></li>
<li><p>Finally, add your exposure groups on the third column on the right. First, check enable continuous import.</p></li>
<li><p>Then, select the directory in which the exposures are located under “Directory to watch”. You should also enter the correct wildcard filter and select “Search Recursively” if the files may be located within internal directories.</p></li>
<li><p>Add the path to the gain reference image under “Gain Reference Path”.</p></li>
<li><p>Click “Enable” at the bottom of the rightmost column.</p></li>
<li><p>Finally, click “Start Session” at the top.</p>
<p><img alt="start_session" src="../_images/start_session.png" />
<strong>Figure 5. “Start Session” button for cryosparc live.</strong></p>
</li>
<li><p>Now, you should see your micrographs begin to process up at the top. You will be able to manually curate your micrographs as they come in. To remove a micrograph, click it and press “r” on your keyboard. You can also click “Individual Exposure” on the left to view information about each micrograph, including 2D and 3D CTFs and motion correction.</p></li>
<li><p>You can also begin to view particle picks by clicking on “Picking” on the left. This will display the parameters for the active picker. Here, you can also filter and extract blob picks by choosing minimum NCC score and the range of power scores. Use the sliders to visually adjust the particle picks for each micrograph.</p></li>
<li><p>Click “Confirm thresholds” and then “Apply to All” in order to apply picker filters to all micrographs and extract particles.</p>
<p><img alt="ncc_power_sliders" src="../_images/ncc_power_sliders.png" />
<strong>Figure 6. Cryosparc live NCC and power threshold sliders for blob picker.</strong></p>
</li>
<li><p>To extract the pre-processed micrographs and particles extracted from the blob picker, go to the “Overview” tab on the left, and click “Extract all Micrographs” and “Extract all Particle Picks”. Now you can move your data processing to regular cryosparc.</p></li>
</ol>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./data_processing"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../scope/Data_collection.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Data Collection</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Pre_processing.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Pre-processing</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Rachael Kretsch<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>